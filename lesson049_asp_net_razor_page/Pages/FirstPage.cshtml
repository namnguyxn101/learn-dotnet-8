@page "/trang-dau-tien/{solanlap:int?}"
@model FirstPageModel
@{
    ViewData["Title"] = "Trang dau tien";
}

<h1 style="color: red">@Model.Title</h1>
<h2>@ViewData["mydata"]</h2>
<p>Hoc lap trinh ASP.Net Core (<strong>@System.DateTime.Now</strong>)</p>

@{
    int a = 2;
    int b = 3;

    @* string solanlapParam = (string)RouteData.Values["solanlap"]; *@
    string solanlapParam = this.Request.RouteValues["solanlap"]?.ToString() ?? "0";

    int solanlap = Int32.Parse(solanlapParam);

    <p>Can bac 2 cua @a la @(Math.Sqrt(a))</p>
}

@functions {
    @* string Title { get; set; } = "Day la trang Razor Page dau tien";

    // OnGet(), OnGetAbc(), OnGetXyz(), ...
    // OnPost(), OnPostAbc(), ...
    // Gọi là Handler
    public void OnGet()
    {
        Console.WriteLine("Truy van GET");
        ViewData["mydata"] = "Phuong Nam 2026";
    }

    // GET-Url?handler=Xyz
    public void OnGetXyz()
    {
        Console.WriteLine("Truy van GET co query la handler=Xyz");
        ViewData["mydata"] = "Phuong Nam 2026";
    }

    string Welcome(string name)
    {
        return $"Chao mung {name}";
    } *@
}

<p>Tong cua @a va @b la @(a + b)</p>

<ol>
    @for (int i = 1; i <= solanlap; i++)
    {
        <li>Muc thu @i</li>
    }
</ol>

<p>@Model.Welcome("Phuong Nam")</p>

<a asp-page="SecondPage">Trang thu hai</a>